Сразу коммент по взаимодействию, вот точный алгоритм работы ик барьера:
Всего используем для взаимодействия два пина. 
Один вход, другой соответственно выход. 
Вход на ик барьере PULLUP. 

0. Проверка статуса до включения - проверяем пин выход от ик барьера. Если мы его не запускали (п.1) и выход имеет низкий уровень, значит все ок.
1. Активация барьера на время работы мотора (включать прям непосредственно до старта мотора) - подтянуть к 0 входной пин от ик барьера 
2. Получить статус- проверка высокого уровня на пине выход. И удержание низкого уровня на входе . 
3. Обязательная деактивация ик барьера по получению высокого уровня на выходном пине ик барьера - Выключение (деактивация - убираем 0 от входного пине ик барьера )

-------------------------------------
Контроллер ИК барьера выполнен на отладочной плате Arduino nano.
Драйвер моторов собран на плате Arduino uno.


Интерфейс ИК барьера:
1. Вход ИК барьера, подтянут к питанию (PULLUP)
2. Выход ИК барьера - push/pull

Интерфейс драйвера моторов, управляющий ИК барьером.
1. Вход драйвера, чтение статуса ИК барьера. Тип выхода: PULLUP.
2. Выход драйвера, управляющий ИК барьером. Тип выхода: Open Drain.
 

1. Включение питания. 
   При включении питания, проверяем наличие 0 на выходе ИК барьера. Если нет, то отправляем сообщение об ошибке ИК барьера.
   Выход драйвера моторов, управляющий ИК барьером, должен быть в третьем состоянии Z. (Open Drain)  
2. Получение драйвером команды на выдачу.
   При получении команды об активации ячейки с верхнего уровня, нужно подтянуть вход ИК барьера к 0. (Вход ИК барьера - тип: PULLUP)
   Проверить наличие высокого уровня сигнала на выходе ИК барьера, удерживать низкий уровень на входе ИК барьера до момента срабатывания барьера.
3. Срабатывание ИК барьера.
   При срабатывании ИК барьера - фиксируется высокий уровень сигнала на его выходе. (выход ИК барьера - тип: push/pull) 
   Отправить сообщение на верхний уровень по последовательному интерфейсу об успешной выдаче.
4. Ввод ИК барьера в рабочее состояние после срабатывания ИК барьера и обработки события.
   Деактивация ИК барьера после получения сигнала об успешной выдаче (высокий уровень на выходе ИК барьера) - убираем 0 на входе ИК барьера (вход имеет тип PULLUP) 
   - переводим выход драйвера (тип выхода Open Drain) в третье состояние.

